<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.ngdsx.partybuilding.dao.UserDao">
	<select id="queryUser"
		resultType="org.ngdsx.partybuilding.entity.User">

	</select>
	<insert id="insertUser" useGeneratedKeys="true"
		keyProperty="userId" keyColumn="user_id">
		INSERT INTO
		sys_user(user_name,user_pwd,user_sex,user_img,user_education,
		user_degree,create_party_time,user_native_place,user_address,
		user_rank_title,user_work_title,user_company,user_post,user_phone,
		user_email,user_resume,department_id,user_login_ip,user_npc,user_check)
		VALUES(#{userName},#{userPwd},#{userSex},#{userImg},#{userEducation},
		#{userDegree},#{createPartyTime},#{userNativePlace},#{userAddress},
		#{userRankTitle.userRankTitleId},#{userWorkTitle.userWorkTitleId},#{userCompany},#{userPost},#{userPhone},
		#{userEmail},#{userResume},#{department.departmentId},#{userLoginIp},#{userNpc},#{userCheck})
	</insert>
	<update id="updateUser"
		parameterType="org.ngdsx.partybuilding.entity.User">
		UPDATE sys_user
		<set>
			<if test="userName != null">user_name = #{userName},</if>
			<if test="userPwd != null">user_pwd = #{userPwd},</if>
			<if test="userSex != null">user_sex = #{userSex},</if>
			<if test="userImg != null">user_img = #{userImg},</if>
			<if test="userEducation != null">user_education = #{userEducation},</if>
			<if test="userDegree != null">user_degree = #{userDegree},</if>
			<if test="createPartyTime != null">create_party_time = #{createPartyTime},</if>
			<if test="userNativePlace != null">user_native_place = #{userNativePlace},</if>
			<if test="userAddress != null">user_address = #{userAddress},</if>
			<if test="userRankTitle.userRankTitleId != null">user_rank_title = #{userRankTitle.userRankTitleId},</if>
			<if test="userWorkTitle.userWorkTitleId != null">user_work_title = #{userWorkTitle.userWorkTitleId},</if>
			<if test="userCompany != null">user_company = #{userCompany},</if>
			<if test="userPost != null">user_post = #{userPost},</if>
			<if test="userPhone != null">user_phone = #{userPhone},</if>
			<if test="userEmail != null">user_email = #{userEmail},</if>
			<if test="userResume != null">user_resume = #{userResume},</if>
			<if test="department.departmentId != null">department_id = #{department.departmentId},</if>
			<if test="userLoginIp != null">user_login_ip = #{userLoginIp},</if>
			<if test="userNpc != null">user_npc = #{userNpc},</if>
			<if test="userCheck != null">user_check = #{userCheck},</if>
			<!-- <if test="userLevel != null">user_level = #{userLevel}</if> -->
		</set>
		where user_id=#{userId}
	</update>
	<delete id="deleteUser">
		DELETE FROM
		sys_user
		WHERE
		user_id = #{userId}
	</delete>
	<delete id="batchDeleteUser" parameterType="long">
		DELETE FROM
		sys_user
		WHERE user_id IN
		<foreach collection="list" item="userId" open="("
			separator="," close=")">
			#{userId}
		</foreach>
	</delete>
</mapper>