<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.ngdsx.partybuilding.dao.RegionDao">
	<select id="queryRegion"
		resultType="org.ngdsx.partybuilding.entity.Region">
		SELECT
		region_id,region_name,region_short_name,region_code,region_parent_id,region_level
		FROM tb_region ORDER BY region_id
	</select>
	<insert id="insertRegion" useGeneratedKeys="true"
		keyProperty="regionId" keyColumn="region_id">
		INSERT INTO
		tb_region(region_name,region_short_name,region_code,region_parent_id,region_level)
		VALUES(#{regionName},#{regionShortName},#{regionCode},#{regionParentId},#{regionLevel})
	</insert>
	<update id="updateRegion"
		parameterType="org.ngdsx.partybuilding.entity.Region">
		UPDATE tb_region
		<set>
			<if test="regionName != null">region_name = #{regionName},</if>
			<if test="regionShortName != null">region_short_name = #{regionShortName},</if>
			<if test="regionCode != null">region_code = #{regionCode},</if>
			<if test="regionParentId != null">region_parent_id = #{regionParentId},</if>
			<if test="regionLevel != null">region_level = #{regionLevel}</if>
		</set>
		where region_id=#{regionId}
	</update>
	<delete id="deleteRegion">
		DELETE FROM
		tb_region
		WHERE
		region_id =
		#{regionId}
	</delete>
	<delete id="batchDeleteRegion" parameterType="long">
		DELETE FROM
		tb_region
		WHERE region_id IN
		<foreach collection="list" item="regionId" open="("
			separator="," close=")">
			#{regionId}
		</foreach>
	</delete>
</mapper>